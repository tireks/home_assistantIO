# Configure a default setup of Home Assistant (frontend, api, etc)
default_config:

# Uncomment this if you are using SSL/TLS, running in Docker container, etc.
# http:
#   base_url: example.duckdns.org:8123

# Text to speech
tts:
  - platform: google_translate

mqtt:
  broker: 192.168.88.17
  client_id: entity_sens_diod
  username: mqttusr
  password: qwerty123
  
sensor:
  - platform: rest
    name: garage_sensors
    resource: http://192.168.88.172
    json_attributes:
      - variables
    scan_interval: 30
    value_template: 'OK'
  - platform: template
    sensors:
      mining_temperature:
        friendly_name: 'Temperature of Mining_room'
        value_template: '{{ states.sensor.garage_sensors.attributes["variables"]["temperature"] }}'
        device_class: temperature
        unit_of_measurement: '°C'
      basement_humidity:
        friendly_name: 'Humidity of basement'
        value_template: '{{ states.sensor.garage_sensors.attributes["variables"]["CellarHumidity"] }}'
        device_class: humidity
        unit_of_measurement: '%'
      basement_temperature:
        friendly_name: 'Temperature of basement'
        value_template: '{{ states.sensor.garage_sensors.attributes["variables"]["CellarTemp"] }}'
        device_class: temperature
        unit_of_measurement: '°C'
 # - platform: mqtt
  #  name: Brightness
  #  state_topic: "home-assistant/controller_states/sensor_diod"
  #  qos: 0
  #  unit_of_measurement: '%'
    
switch:
  - platform: mqtt
    name: "MQTT test diod"
    state_topic: "home-assistant/controller_states/sensor_diod"
    command_topic: "home-assistant/controller_switches/sensor_diod"
    payload_on: "on_"
    payload_off: "off"
    state_on: "on_"
    state_off: "off"
    qos: 0
    retain: true

group: !include groups.yaml
automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml
